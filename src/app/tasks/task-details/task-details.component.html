<div class="col">
        @if(this.task){
            <form [formGroup]="editTaskForm" (ngSubmit)="onSubmit()">
                <div class="card card-body">
                    <div class="row">
                        <div class="col-3">
                            <div class="row">
                                <div class="col">
                                    <h4 class="list-group-item-heading text-nowrap">{{ task.title }} ({{task.type?.displayName}})</h4>
                                </div>
                                <div class="col">
                                    @if (editMode != true) {
                                        <button class="btn btn-secondary" (click)="onEdit()">Edit</button>
                                    }
                                    @else {
                                        <input class="form-control" [disabled]="!editTaskForm.valid" class="btn btn-primary" type="submit" value="Save">
                                    }
                                </div>
                            </div>
                        </div>
                        <div class="col-11">
                            <p class="list-group-item-text"><span class="badge bg-primary">{{task.status?.displayName}}</span> {{ task.description }}</p>
                        </div>
                        <div class="col-1">
                            <button class="btn btn-danger" 
                            (click)="this.task !== null && this.task.id !== null ? onDeleted(this.task.id) : true">
                            Delete</button>
                    </div>
                    <div class="row d-flex flex-row-reverse">
                        <div class="col">
                            <div class="row"><span>Created on: {{ task.createdOn.toDateString() }}</span></div>
                            <div class="row"><span>Last modified: {{ task.modifiedOn.toDateString() }}</span></div>
                        </div>
                    </div>
                </div>    
                @if (this.editMode) {
                    <div class="card card-body">
                        <div class="row">
                            <div class="col-xs-6">
                                    <div class="form-group row">
                                        <label class="col-sm-2 col-form-label" for="title">Task title</label>
                                        <div class="col-sm-10">
                                            <input class="form-control" type="text" id="title" name="title" formControlName="title">
                                            @if (editTaskForm.get('title')?.errors) {
                                                @if (editTaskForm.get('title')?.errors?.['required'] && editTaskForm.get('title')?.touched) {
                                                    <span class="pull-right help-block">Title is required</span>
                                                }
                                                @if (editTaskForm.get('title')?.errors?.['titleUnique']) {
                                                    <span class="pull-right help-block">Title already exists</span>
                                                }
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label class="col-sm-2 col-form-label" for="description">Task description</label>
                                        <div class="col-sm-10">
                                            <input class="form-control" type="text" id="description" name="description" formControlName="description">
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label class="col-sm-2 col-form-label" for="type">Task type</label>
                                        <div class="col-sm-10">
                                            <select class="form-control form-select" name="type" id="type" formControlName="type">
                                                @for (taskType of taskTypes; track taskType) {
                                                    <option 
                                                    [value]="taskType.value">{{taskType.displayName}}</option>
                                                }
                                            </select>
                                            @if (!editTaskForm.get('type')?.valid && editTaskForm.get('type')?.touched) {
                                                <span class="pull-right help-block">Type is required</span>
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                    <label class="col-sm-2 col-form-label" for="status">Task status</label>
                                    <div class="col-sm-10">
                                        <select class="form-control form-select" name="status" id="status" formControlName="status">
                                            @for (taskStatus of taskStatuses; track taskStatus) {
                                                <option
                                                [value]="taskStatus.value">{{taskStatus.displayName}}</option>
                                            }
                                        </select>
                                        @if (!editTaskForm.get('status')?.valid && editTaskForm.get('status')?.touched) {
                                            <span class="pull-right help-block">Status is required</span>
                                        }
                                    </div>
                                    </div>
                            </div>
                        </div>
                    </div>
                }
                </div>
            </form>
        }
        @else {
            <!-- Task not found template -->
        }

</div>